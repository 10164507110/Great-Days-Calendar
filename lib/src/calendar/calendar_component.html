<div class="main col-lg-12 row">

    <div class="col-lg-9" id="logo-zone">
        <h1>logo</h1>
    </div>

    <div class="col-lg-9 calendar-main" id="main-zone">
        <div id="calendar">
            <!-- 标题区域：日月/前进后退 -->
            <div class="title">
                <h1 class="green" id="calendar-title">{{now_month}}月</h1>
                <h2 class="green" id="calendar-year">{{now_year}}</h2>

                <img id="prev" src="images/prev.png" (click)="clickPrev()" />
                <img id="next" src="images/next.png" (click)="clickNext()" />
            </div>

            <!-- 日历主体 -->
            <div class="body">
                <!-- 星期： SUN - SAT标题 -->
                <div class="lightgrey body-list">
                    <ul>
                        <li>SUN</li>
                        <li>MON</li>
                        <li>TUE</li>
                        <li>WED</li>
                        <li>THU</li>
                        <li>FRI</li>
                        <li>SAT</li>
                    </ul>
                </div>

                <!-- 日期： 共6*7格，用dart生成，angular自动生成li标签 -->
                <div class="body-list">
                    <ul id="dayslist">
                        <li *ngFor = "let day of days; let i = index">
                            <!-- 伪点击事件：增加一个表示事件的圆点 -->
                            <!-- <img class="event" src="images/circle.png" *ngIf="hasEvent[i]"/> -->
                            <span class="plandot" *ngIf="hasEvent[i]"><span [class]="eventColor[i]">●</span></span>
                            <p [class]="day_color[i]"><span [class] = "hovercolor[i]">{{day}}</span></p>
                        </li>
                    </ul>
                </div>

                <!-- 重置按钮，将日历恢复至今天 -->
                <div id="refresh">
                    <img src="images/refresh.png" title="重置日历" (click)="refresh()" />
                </div>

            </div>
            <!-- end class body -->

        </div>
        <!-- end class calendar -->
    </div>


    <div class="col-lg-3" id="right-list">

        <div class="myGroups-list">
            <div id="myGroups">
                <div id="myGroups-button" (click)="dropDownOptions('groupOption')">我的群组</div>
                    <div *ngIf="optionsFlag" id="myGroups-smallbutton" (click)="dropDownList('group')">我所在的群组</div>
                        <ul *ngIf="groupsFlag">                 
                            <li *ngFor = "let group of groups; let i = index" class="myGroup">
                                -&nbsp;&nbsp;{{group}}
                            </li>
                        </ul>
                <div *ngIf="optionsFlag" id="myGroups-smallbutton" (click)="dropDownList('addgroup')">加入群组</div>
                <!--<ul *ngIf="optionsFlag" >
                    <li *ngFor = "let optionsInMyGroup of optionsInMyGroups; let i = index" class ="myGroup" (click)="dropDownList('group')"> 
                        -&nbsp;&nbsp;{{optionsInMyGroup}}
                        <ul *ngIf="groupsFlag">                 
                            <li *ngFor = "let group of groups; let i = index" class="myGroup">
                                -&nbsp;&nbsp;{{group}}
                            </li>
                        </ul>
                    </li>
                </ul>  -->
            </div>
        </div>

        <div class="myPlans-list">
            <div id="myPlans">
                <div id="myPlans-button" (click)="dropDownList('plan')">我的计划</div>
                <ul *ngIf="plansFlag">
                    <li *ngFor = "let plan of myplans; let i = index" class="myPlan" 
                        (mouseenter)="enterPlan(i)" (mouseleave)="leavePlan(i)">
                        -&nbsp;&nbsp;{{plan.planname}}
                        <span class="plandot"><span [class]="plancolor[i]">{{dotOrDash[i]}}</span></span>
                    </li>
                </ul>
                <div *ngIf="!plansFlag" style="text-align: center;" (click)="dropDownList('plan')">
                   <img src="images/bottom.png" width="30px" title="点击此处展开"/> 
                </div>
                <div *ngIf="plansFlag" id="addPlanBtn">
                    <button class="btn btn-info" (click)="addPlan();">+</button>
                </div>

                <!------------------------ 我的计划 - 表单 -------------------------->
                <div class="well" id="addPlanForm" *ngIf="showPlan">
                    <form class="form-horizontal" role="form">
                        <div class="form-group">
                            <label for="planname" class="col-sm-4 control-label">任务名</label>
                            <div class="col-sm-8">
                                <material-input type="text" autoFocus floatingLabel style="width:100%" 
                                    [(ngModel)]="planname" aria-placeholder="请输入任务名"></material-input>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="plantype" class="col-sm-4 control-label">类型</label>
                            <material-radio-group class="col-sm-8" [(ngModel)]="plantype">
                                <label class="radio-inline">
                                    <material-radio name="plantype" value="point" >时间点</material-radio>
                                </label>
                                <label class="radio-inline">
                                    <material-radio name="plantype" value="interval">时间段</material-radio>
                                </label>
                            </material-radio-group>
                        </div>

                        <!-- 如果是时间点 -->
                        <div *ngIf="plantype=='point'">
                            <div class="form-group">
                                <label for="plandate-point" class="col-sm-4 control-label">日期</label>
                                <div class="col-sm-8">
                                    <material-input type="date" autoFocus floatingLabel style="width:100%" 
                                        [(ngModel)]="plandatePoint"></material-input>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="plantime-point" class="col-sm-4 control-label">时间</label>
                                <div class="col-sm-8">
                                    <material-input type="time" autoFocus floatingLabel style="width:100%" 
                                    [(ngModel)]="plantimePoint"></material-input>
                                </div>
                            </div>
                        </div>

                        <!-- 如果是时间段 -->
                        <div *ngIf="plantype=='interval'">
                            <div class="form-group">
                                <label for="plandate" class="col-sm-4 control-label">开始日期</label>
                                <div class="col-sm-8">
                                    <material-input type="date" autoFocus floatingLabel style="width:100%" 
                                        [(ngModel)]="plandateBegin"></material-input>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="plantime" class="col-sm-4 control-label">时间</label>
                                <div class="col-sm-8">
                                    <material-input type="time" autoFocus floatingLabel style="width:100%" 
                                    [(ngModel)]="plantimeBegin"></material-input>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="plandate" class="col-sm-4 control-label">结束日期</label>
                                <div class="col-sm-8">
                                    <material-input type="date" autoFocus floatingLabel style="width:100%" 
                                        [(ngModel)]="plandateEnd"></material-input>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="plantime" class="col-sm-4 control-label">时间</label>
                                <div class="col-sm-8">
                                    <material-input type="time" autoFocus floatingLabel style="width:100%" 
                                    [(ngModel)]="plantimeEnd"></material-input>
                                </div>
                            </div>
                        </div>
                    </form>

                    <button class="btn btn-info" (click)="submitPlan();">SUBMIT</button>
                    <button class="btn btn-default" (click)="closePlan();">CLOSE</button>
                    <div *ngIf="submitWarning">
                        <label class="alert alert-warning">请确保输入完整</label>
                    </div>
                    <div *ngIf="submit && plantype=='point'">
                        {{plantimePoint.substring(0,2)}} - {{plantimePoint.substring(3)}}
                    </div>
                </div>
                <!-- end form -->
                
            </div>
        </div>

    </div>    

</div> <!-- end class main -->